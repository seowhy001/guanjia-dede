<module>
<baseinfo>
name=搜外内容管家
team=seowhy
time=2022-04-24
email=xiaoliang@seowhy.com
url=https://guanjia.seowhy.com/
hash=e7850254d02ad7311bb19d78cffb08c3
indexname=
indexurl=
ismember=0
autosetup=1
autodel=1
lang=utf-8
moduletype=plus
</baseinfo>
<systemfile>
<menustring>
PG06dG9wIG5hbWU9J+WGheWuueWIm+S9nCcgYz0nNiwnIGRpc3BsYXk9J2Jsb2NrJyByYW5rPScnPg0KICAgIDxtOml0ZW0gbmFtZT0n5pCc5aSW5YaF5a65566h5a62JyBsaW5rPSdndWFuamlhLnBocCcgcmFuaz0nJyB0YXJnZXQ9J21haW4nIC8+DQo8L206dG9wPg==
</menustring>
<readme>
PHAgc3R5bGU9J2xpbmUtaGVpZ2h0OjE1MCUnPjxkaXYgc3R5bGU9J3BhZGRpbmctbGVmdDoyMHB4O2xpbmUtaGVpZ2h0OjE1MCUnPjxiciAvPg0KPHA+5qyi6L+O5L2/55So5pCc5aSW5YaF5a65566h5a625YaF5a655Yib5L2c5Yqf6IO9PC9wPjxiciAvPg0KPHA+6K+l5o+S5Lu26ZyA6KaB6YWN5ZCI5pCc5aSW5YaF5a65566h5a625paH56ug5Y+R5biD5Yqf6IO95L2/55SoPC9wPjxiciAvPg0KPHA+572R5Z2A77yaPGEgaHJlZj0naHR0cHM6Ly9ndWFuamlhLnNlb3doeS5jb20vJz5odHRwczovL2d1YW5qaWEuc2Vvd2h5LmNvbS88L2E+PC9wPjxiciAvPg0KPHA+PC9wPjxiciAvPg0KPC9kaXY+PC9wPg==
</readme>
<setupsql40>

</setupsql40>
<delsql>

</delsql>
<setup>

</setup>
<uninstall>

</uninstall>
<oldfilelist>
./guanjia.php
./templets/guanjia.htm
../plus/guanjia.php
</oldfilelist>
</systemfile>

<modulefiles>
<file type='file' name='./guanjia.php'>
PD9waHAKcmVxdWlyZV9vbmNlIGRpcm5hbWUoX19GSUxFX18pIC4gJy9jb25maWcucGhwJzsKcmVxdWlyZV9vbmNlIERFREVJTkMgLiAnL2RhdGFsaXN0Y3AuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIERFREVBRE1JTiAuICIvaW5jL2luY19jYXRhbG9nX29wdGlvbnMucGhwIjsKaWYgKGVtcHR5KCRkb3Bvc3QpKSB7CiAgICAkZG9wb3N0ID0gJyc7Cn0KCmlmICgkZG9wb3N0ID09ICdzYXZlJykgewogICAgJHRva2VuID0gaXNzZXQoJF9QT1NUWyd0b2tlbiddKSA/IHRyaW0oJF9QT1NUWyd0b2tlbiddKSA6ICcnOwogICAgaWYgKGVtcHR5KCR0b2tlbikpIHsKICAgICAgICBTaG93TXNnKCfor7floavlhpnku47mkJzlpJblhoXlrrnnrqHlrrbojrflj5bnmoQgVE9LRU4hJywgJ2d1YW5qaWEucGhwJyk7CiAgICAgICAgZXhpdCgpOwogICAgfQoKICAgICRhZG1pbkRpciA9IGV4cGxvZGUoJy8nLCBzdHJfcmVwbGFjZSgiXFwiLCAnLycsIGRpcm5hbWUoX19GSUxFX18pKSk7CiAgICAkYWRtaW5EaXIgPSAkYWRtaW5EaXJbY291bnQoJGFkbWluRGlyKSAtIDFdOwoKICAgICRkYXRhID0gYXJyYXkoCiAgICAgICAgJ3Rva2VuJyAgICAgPT4gdHJpbSgkX1BPU1RbJ3Rva2VuJ10pLAogICAgICAgICd2ZXJzaW9uJyAgID0+ICcxLjAuMCcsCiAgICAgICAgJ2FkbWluX2RpcicgPT4gJGFkbWluRGlyLAogICAgKTsKICAgICR2YWx1ZSA9IGpzb25fZW5jb2RlKCRkYXRhKTsKCiAgICAkdmFybmFtZSA9ICRkc3FsLT5HZXRPbmUoIlNlbGVjdCB2YXJuYW1lIEZyb20gYCNAX19zeXNjb25maWdgIHdoZXJlIGB2YXJuYW1lYCA9ICdndWFuamlhX3NldHRpbmcnIik7CiAgICBpZiAoJHZhcm5hbWUgIT0gJycpIHsKICAgICAgICAkcXVlcnkgPSAidXBkYXRlIGAjQF9fc3lzY29uZmlnYCBzZXQgdmFsdWU9JyR2YWx1ZScgd2hlcmUgYHZhcm5hbWVgID0gJ2d1YW5qaWFfc2V0dGluZyciOwogICAgfSBlbHNlIHsKICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElOVE8gYCNAX19zeXNjb25maWdgKGB2YXJuYW1lYCxgdmFsdWVgLGBpbmZvYCxgdHlwZWAsYGdyb3VwaWRgKSBWQUxVRVMoJ2d1YW5qaWFfc2V0dGluZycsJyR2YWx1ZScsJ+aQnOWkluWGheWuueeuoeWutumFjee9ricsJ3N0cmluZycsMCkiOwogICAgfQogICAgJHJlc3VsdCA9ICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRxdWVyeSk7CiAgICBpZiAoZW1wdHkoJHJlc3VsdCkpIHsKICAgICAgICBTaG93TXNnKCfkv53lrZjlpLHotKUhJywgJ2d1YW5qaWEucGhwJyk7CiAgICAgICAgZXhpdCgpOwogICAgfQogICAgaWYgKEdldENhY2hlKCdndWFuamlhJywgJ2d1YW5qaWFfc2V0dGluZycpKSB7CiAgICAgICAgRGVsQ2FjaGUoJ2d1YW5qaWEnLCAnZ3VhbmppYV9zZXR0aW5nJyk7CiAgICB9CgogICAgU2hvd01zZygn5L+d5a2Y5oiQ5YqfIScsICdndWFuamlhLnBocCcpOwp9IGVsc2UgewogICRjb25maWcgPSAkZHNxbC0+R2V0T25lKCJTRUxFQ1QgYHZhbHVlYCBGUk9NIGAjQF9fc3lzY29uZmlnYCB3aGVyZSBgdmFybmFtZWAgPSAnZ3VhbmppYV9zZXR0aW5nJyIpOwogICRjb25maWcgPSBqc29uX2RlY29kZSgkY29uZmlnWyd2YWx1ZSddLCB0cnVlKTsKICAkY29uZmlnWyd2ZXJzaW9uJ10gPSAnMS4wLjAnOwoKICAkdXJsICAgICAgICAgICAgICAgID0gJEdMT0JBTFNbJ2NmZ19iYXNlaG9zdCddOwogICRhZG1pbmRpcnMgICAgICAgICAgPSBleHBsb2RlKCcvJywgc3RyX3JlcGxhY2UoIlxcIiwgJy8nLCBkaXJuYW1lKF9fRklMRV9fKSkpOwogICRhZG1pbmRpciAgICAgICAgICAgPSAkYWRtaW5kaXJzW2NvdW50KCRhZG1pbmRpcnMpIC0gMV07CiAgJGNvbmZpZ1snYXBwX3BhdGgnXSA9ICR1cmwgLiAnL3BsdXMvZ3VhbmppYS5waHA/YT1jbGllbnQnOwoKICBpbmNsdWRlIERlZGVJbmNsdWRlKCJ0ZW1wbGV0cy9ndWFuamlhLmh0bSIpOwogIGV4aXQoKTsKfQo=
</file>
<file type='file' name='./templets/guanjia.htm'>
PCFET0NUWVBFIGh0bWw+CjxodG1sPgoKPGhlYWQ+CiAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9PD9waHAgZWNobyAkY2ZnX3NvZnRfbGFuZzsgPz4iPgogIDx0aXRsZT7mkJzlpJblhoXlrrnnrqHlrrY8L3RpdGxlPgogIDxsaW5rIGhyZWY9ImNzcy9iYXNlLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyI+CjwvaGVhZD4KCjxib2R5PgogIDxmb3JtIG5hbWU9ImZvcm0iIGFjdGlvbj0iZ3VhbmppYS5waHAiIG1ldGhvZD0icG9zdCI+CiAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdkb3Bvc3QnIHZhbHVlPSdzYXZlJyAvPgogICAgPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjZmZmZmZmIgogICAgICBzdHlsZT0ibWFyZ2luLWJvdHRvbTo4cHg7Ij4KICAgICAgPHRyPgogICAgICAgIDx0ZCBoZWlnaHQ9IjI4IiBjb2xzcGFuPSIyIiBiYWNrZ3JvdW5kPSJpbWFnZXMvdGJnLmdpZiIgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4OyI+CiAgICAgICAgICA8cD48Yj4gJmd0OyDmkJzlpJblhoXlrrnnrqHlrrbvvJo8L2I+PC9wPgogICAgICAgICAgPHA+6K+l5o+S5Lu26ZyA6KaB6YWN5ZCI5pCc5aSW5YaF5a65566h5a625L2/55So44CCdG9rZW7ojrflj5bor7forr/pl64gPGEgaHJlZj0iaHR0cHM6Ly9ndWFuamlhLnNlb3doeS5jb20vIiB0YXJnZXQ9Il9ibGFuayI+aHR0cHM6Ly9ndWFuamlhLnNlb3doeS5jb20vPC9hPjxwPgogICAgICAgIDwvdGQ+CiAgICAgIDwvdHI+CiAgICAgIDx0cj4KICAgICAgICA8dGQgaGVpZ2h0PSIzOCIgd2lkdGg9IjE1JSIgYWxpZ249ImNlbnRlciIgYmdjb2xvcj0iI0ZGRkZGRiI+PGI+VE9LRU48L2I+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iU1RZTEUyIiBpZD0iaGVscDIiPiA8L3NwYW4+CiAgICAgICAgPC90ZD4KICAgICAgICA8dGQgaGVpZ2h0PSIzOCIgYmdjb2xvcj0iI0ZGRkZGRiI+CiAgICAgICAgICA8aW5wdXQgbmFtZT0idG9rZW4iIHR5cGU9InRleHQiIGlkPSJ0b2tlbiIKICAgICAgICAgICAgdmFsdWU9Ijw/cGhwIGlmICghZW1wdHkoJGNvbmZpZ1sndG9rZW4nXSkpIHsgZWNobyAkY29uZmlnWyd0b2tlbiddOyB9ID8+IiBjbGFzcz0icHViaW5wdXRzIiAvPgogICAgICAgICAgICDlhoXlrrnnrqHlrrblr7nmjqXnmoR0b2tlbgogICAgICAgIDwvdGQ+CiAgICAgIDwvdHI+CiAgICAgIDx0cj4KICAgICAgICA8dGQgaGVpZ2h0PSIzOCIgd2lkdGg9IjE1JSIgYWxpZ249ImNlbnRlciIgYmdjb2xvcj0iI0ZGRkZGRiI+PGI+54mI5pys5Y+3PC9iPgogICAgICAgIDwvdGQ+CiAgICAgICAgPHRkIGhlaWdodD0iMzgiIGJnY29sb3I9IiNGRkZGRkYiPgogICAgICAgICAgPD9waHAgaWYoIWVtcHR5KCRjb25maWdbJ3ZlcnNpb24nXSkpIHsgZWNobyAkY29uZmlnWyd2ZXJzaW9uJ107IH0gID8+CiAgICAgICAgPC90ZD4KICAgICAgPC90cj4KICAgICAgPHRyPgogICAgICAgIDx0ZCBoZWlnaHQ9IjM4IiB3aWR0aD0iMTUlIiBhbGlnbj0iY2VudGVyIiBiZ2NvbG9yPSIjRkZGRkZGIj48Yj7mj5Lku7blnLDlnYA8L2I+CiAgICAgICAgPC90ZD4KICAgICAgICA8dGQgaGVpZ2h0PSIzOCIgYmdjb2xvcj0iI0ZGRkZGRiI+CiAgICAgICAgICA8P3BocCBpZighZW1wdHkoJGNvbmZpZ1snYXBwX3BhdGgnXSkpIHsgZWNobyAkY29uZmlnWydhcHBfcGF0aCddOyB9ICA/PgogICAgICAgIDwvdGQ+CiAgICAgIDwvdHI+CiAgICAgIDx0ciBiZ2NvbG9yPSIjRkZGRkZGIj4KICAgICAgICA8dGQgaGVpZ2h0PSIzOCIgaGVpZ2h0PSI0MCIgY29sc3Bhbj0iMiIgYWxpZ249ImNlbnRlciI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJTdWJtaXQxIiBjbGFzcz0nY29vbGJnIG5wJyB2YWx1ZT0i5L+d5a2YIiAvPiAmbmJzcDsKICAgICAgICA8L3RkPgogICAgICA8L3RyPgogICAgPC90YWJsZT4KICA8L2Zvcm0+CjwvYm9keT4KCjwvaHRtbD4=
</file>
<file type='file' name='../plus/guanjia.php'>
PD9waHAKLyoqCiAqIEBwYWNrYWdlIOaQnOWkluWGheWuueeuoeWutgogKiBAdmVyc2lvbiAxLjAuMAogKi8KCiRfU0VTU0lPTiA9IGFycmF5KCk7CnJlcXVpcmVfb25jZSBnZXRJbmNEaXIoKSAuICcvY29tbW9uLmluYy5waHAnOwpyZXF1aXJlX29uY2UgREVERURBVEEgLiAnL2NvbW1vbi5pbmMucGhwJzsKCnNlc3Npb25fc3RhcnQoKTsKaWYgKGVtcHR5KCRfU0VTU0lPTlsnZGVkZV9hZG1pbl9pZCddKSkgewogICAgJHNxbCAgICAgICAgICAgICAgICAgICAgICAgICAgICA9ICJTRUxFQ1QgKiBGUk9NIGAjQF9fYWRtaW5gIHdoZXJlIHVzZXJ0eXBlID0gMTAiOwogICAgJGFkbWluICAgICAgICAgICAgICAgICAgICAgICAgICA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CiAgICAkX1NFU1NJT05bJ2RlZGVfYWRtaW5faWQnXSAgICAgID0gJGFkbWluWydpZCddOwogICAgJF9TRVNTSU9OWydkZWRlX2FkbWluX3R5cGUnXSAgICA9ICRhZG1pblsndXNlcnR5cGUnXTsKICAgICRfU0VTU0lPTlsnZGVkZV9hZG1pbl9jaGFubmVsJ10gPSAnMCc7CiAgICAkX1NFU1NJT05bJ2RlZGVfYWRtaW5fbmFtZSddICAgID0gJGFkbWluWyd1bmFtZSddOwogICAgJF9TRVNTSU9OWydkZWRlX2FkbWluX3B1cnZpZXcnXSA9ICdhZG1pbl9BbGxvd0FsbCAnOwogICAgJF9TRVNTSU9OWydkZWRlX2FkbWluX3N0eWxlJ10gICA9ICduZXdkZWRlY21zJzsKfQoKJGd1YW5qaWEgPSBuZXcgR3VhbmppYSgpOwoKJF9HRVRbJ2EnXSA9IHBhcnNlQWN0aW9uKGlzc2V0KCRfR0VUWydhJ10pID8gJF9HRVRbJ2EnXSA6ICcnKTsKCiRjb25maWcgPSAkZ3VhbmppYS0+Z2V0Q29uZmlnKCk7CgpyZXF1aXJlX29uY2UgZGlybmFtZShfX0ZJTEVfXykgLiAnLy4uLycgLiAkY29uZmlnWydhZG1pbl9kaXInXSAuICcvY29uZmlnLnBocCc7CgppZiAoIWluX2FycmF5KCRfR0VUWydhJ10sIGFycmF5KAogICdjbGllbnQnLAogICdjYXRlZ29yaWVzJywKICAncHVibGlzaCcsCiAgJ3VwZ3JhZGUnLAopKSkgewogIHJldHVybiAkZ3VhbmppYS0+cmVzKC0xLCAi6K6/6Zeu5Y+X6ZmQIik7Cn0KCi8vIOaJp+ihjAokZ3VhbmppYS0+cnVuKCk7CgpjbGFzcyBHdWFuamlhCnsKICAgIHByaXZhdGUgJGNvbmZpZzsKCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQogICAgewogICAgICAvLyB0b2RvCiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHJ1bigpIHsKICAgICAgJGFjdGlvbiA9ICRfR0VUWydhJ107CiAgICAgIGlmICgkYWN0aW9uID09ICdjbGllbnQnKSB7CiAgICAgICAgICByZXR1cm4gJHRoaXMtPmNsaWVudCgpOwogICAgICB9CgogICAgICAkdGhpcy0+dmVyaWZ5U2lnbigpOwoKICAgICAgJGZ1bmNOYW1lID0gJGFjdGlvbjsKICAgICAgaWYgKG1ldGhvZF9leGlzdHMoJHRoaXMsICRmdW5jTmFtZSkpIHsKICAgICAgICAgIHJldHVybiAkdGhpcy0+eyRmdW5jTmFtZX0oKTsKICAgICAgfQogICAgICAKICAgICAgJHRoaXMtPnJlcygtMSwgJ+mUmeivr+eahOWFpeWPoycpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBjbGllbnQoKSB7CiAgICAgIGVjaG8gJzxjZW50ZXI+5pCc5aSW5YaF5a65566h5a625o6l5Y+jPC9jZW50ZXI+JzsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY2F0ZWdvcmllcygpCiAgICB7CiAgICAgIGdsb2JhbCAkZHNxbDsKICAgICAgJGNoYW5uZWxzICAgPSAkZHNxbC0+R2V0T25lKCJTRUxFQ1QgYGlkYCxgbmlkYCxgdHlwZW5hbWVgIEZST00gYCNAX19jaGFubmVsdHlwZWAgd2hlcmUgbmlkID0gJ2FydGljbGUnIik7IC8vIOiOt+WPluaWh+eroOmikemBkwogICAgICAkY2F0ZWdvcmllcyA9IGFycmF5KCk7CiAgICAgICRxdWVyeSAgICAgID0gIlNlbGVjdCBpZCxyZWlkLHRvcGlkLHR5cGVuYW1lLGlzcGFydCxjaGFubmVsdHlwZSBGcm9tIGAjQF9fYXJjdHlwZWAgd2hlcmUgaXNwYXJ0ID0gMCBhbmQgY2hhbm5lbHR5cGU9IiAuICRjaGFubmVsc1snaWQnXSAuICIgb3JkZXIgYnkgc29ydHJhbmsgYXNjIjsKICAgICAgJGRzcWwtPlNldFF1ZXJ5KCRxdWVyeSk7CiAgICAgICRkc3FsLT5FeGVjdXRlKCk7CiAgICAgIHdoaWxlICgkcm93ID0gJGRzcWwtPkdldE9iamVjdCgpKSB7CiAgICAgICAgICAkY2F0ZWdvcmllc1tdID0gYXJyYXkoCiAgICAgICAgICAgICAgJ2lkJyAgICAgICAgPT4gaW50dmFsKCRyb3ctPmlkKSwKICAgICAgICAgICAgICAncGFyZW50X2lkJyA9PiBpbnR2YWwoJHJvdy0+cmVpZCksCiAgICAgICAgICAgICAgJ3RpdGxlJyAgICAgPT4gJHJvdy0+dHlwZW5hbWUsCiAgICAgICAgICApOwogICAgICB9CgogICAgICAkdGhpcy0+cmVzKDEsICIiLCAkY2F0ZWdvcmllcyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHB1Ymxpc2goKQogICAgewogICAgICAgZ2xvYmFsICRjZmdfcGhwdXJsOwogICAgICAgZ2xvYmFsICRjZmdfYmFzZWhvc3Q7CiAgICAgICAgcmVxdWlyZV9vbmNlIERFREVJTkMgLiAnL2ltYWdlLmZ1bmMucGhwJzsKICAgICAgICByZXF1aXJlX29uY2UgREVERUlOQyAuICcvb3h3aW5kb3cuY2xhc3MucGhwJzsKICAgICAgICByZXF1aXJlX29uY2UgREVERUlOQyAuICcvaGVscGVycy90aW1lLmhlbHBlci5waHAnOwoKICAgICAgICByZXF1aXJlX29uY2UgREVERUlOQyAuICcvY3VzdG9tZmllbGRzLmZ1bmMucGhwJzsKICAgICAgICByZXF1aXJlX29uY2UgREVERUFETUlOIC4gJy9pbmMvaW5jX2FyY2hpdmVzX2Z1bmN0aW9ucy5waHAnOwoKICAgICAgICAkdGl0bGUgID0gdHJpbSgkX1BPU1RbJ3RpdGxlJ10pOyAvLyDmoIfpopgKICAgICAgICAkYm9keSAgID0gdHJpbSgkX1BPU1RbJ2NvbnRlbnQnXSk7IC8vIOWGheWuuQogICAgICAgICR0eXBlaWQgPSB0cmltKCRfUE9TVFsnY2F0ZWdvcnlfaWQnXSk7IC8vIOagj+ebrgoKICAgICAgICBpZighJHRpdGxlIHx8ICEkYm9keSkgewogICAgICAgICAgJHRoaXMtPnJlcygtMSwgIuayoeacieWPr+eUqOWGheWuuSIpOwogICAgICAgIH0KCiAgICAgICAgJHRpdGxlID0gJHRoaXMtPnJlbW92ZVV0ZjhtYjQoJHRpdGxlKTsKICAgICAgICAkYm9keSAgPSAkdGhpcy0+cmVtb3ZlVXRmOG1iNCgkYm9keSk7CgogICAgICAgICRub3Rwb3N0ICAgID0gMTsKICAgICAgICAkdHlwZWlkMiAgICA9IDA7CiAgICAgICAgJGF1dG9rZXkgICAgPSAwOwogICAgICAgICRyZW1vdGUgICAgID0gMDsKICAgICAgICAkZGVsbGluayAgICA9IDA7CiAgICAgICAgJGF1dG9saXRwaWMgPSAwOwogICAgICAgICRjbGljayAgICAgID0gMTsKICAgICAgICAkd3JpdGVycyAgICA9ICfnrqHnkIblkZgnOwogICAgICAgICRzb3VyY2UgICAgID0gJ+acquefpSc7CiAgICAgICAgJGlzaHRtbCAgICAgPSAxOwogICAgICAgICRhcmNyYW5rICAgID0gJzAnOwogICAgICAgICRtb25leSAgICAgID0gJzAnOwogICAgICAgICRkZGlzcmVtb3RlID0gMDsKICAgICAgICAkc3B0eXBlICAgICA9ICdoYW5kJzsKICAgICAgICAkdm90ZWlkICAgICA9ICcnOwogICAgICAgICRrZXl3b3JkcyAgID0gJyc7CiAgICAgICAgJHdlaWdodCAgICAgPSA2OwoKICAgICAgICBnbG9iYWwgJGRzcWw7CiAgICAgICAgJGNoYW5uZWxzID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUIGBpZGAsYG5pZGAsYHR5cGVuYW1lYCAgRlJPTSBgI0BfX2NoYW5uZWx0eXBlYCB3aGVyZSBuaWQgPSAnYXJ0aWNsZSciKTsKCiAgICAgICAgaWYgKCFDaGVja0NoYW5uZWwoJHR5cGVpZCwgJGNoYW5uZWxzWydpZCddKSkgewogICAgICAgICAgJHRoaXMtPnJlcygtMSwgIumAieaLqeeahOagj+ebruS4jeaYr+aWh+eroOagj+ebriIpOwogICAgICAgIH0KCiAgICAgICAgJHB1YmRhdGUgPSBHZXRNa1RpbWUodGltZSgpKTsKICAgICAgICAkc2VuZGRhdGUgICAgPSB0aW1lKCk7CiAgICAgICAgJHNvcnRyYW5rICAgID0gQWRkRGF5KCRwdWJkYXRlLCAkc29ydHVwKTsKICAgICAgICAkaXNtYWtlICAgICAgPSAkaXNodG1sID09IDAgPyAtMSA6IDA7CiAgICAgICAgJHRpdGxlICAgICAgID0gcHJlZ19yZXBsYWNlKCIjXCIjIiwgJ++8gicsICR0aXRsZSk7CiAgICAgICAgJHRpdGxlICAgICAgID0gZGVkZV9odG1sc3BlY2lhbGNoYXJzKGNuX3N1YnN0clIoJHRpdGxlLCAkY2ZnX3RpdGxlX21heGxlbikpOwogICAgICAgICRzaG9ydHRpdGxlICA9IGNuX3N1YnN0clIoJHNob3J0dGl0bGUsIDM2KTsKICAgICAgICAkY29sb3IgICAgICAgPSBjbl9zdWJzdHJSKCRjb2xvciwgNyk7CiAgICAgICAgJHdyaXRlcnMgICAgID0gY25fc3Vic3RyUigkd3JpdGVycywgMjApOwogICAgICAgICRzb3VyY2UgICAgICA9IGNuX3N1YnN0clIoJHNvdXJjZSwgMzApOwogICAgICAgICRkZXNjcmlwdGlvbiA9IGNuX3N1YnN0clIoJGRlc2NyaXB0aW9uLCAkY2ZnX2F1b3RfZGVzY3JpcHRpb24pOwogICAgICAgICRrZXl3b3JkcyAgICA9IGNuX3N1YnN0clIoJGtleXdvcmRzLCA2MCk7CiAgICAgICAgJGZpbGVuYW1lICAgID0gdHJpbShjbl9zdWJzdHJSKCRmaWxlbmFtZSwgNDApKTsKICAgICAgICAkdXNlcmlwICAgICAgPSBHZXRJUCgpOwogICAgICAgICRpc3JlbW90ZSAgICA9IChlbXB0eSgkaXNyZW1vdGUpID8gMCA6ICRpc3JlbW90ZSk7CiAgICAgICAgJHNlcnZpdGVybSAgID0gZW1wdHkoJHNlcnZpdGVybSkgPyAiIiA6ICRzZXJ2aXRlcm07CiAgICAgICAgJGNoYW5uZWxpZCAgID0gJGNoYW5uZWxzWydpZCddOwoKICAgICAgICBpZiAoIVRlc3RQdXJ2aWV3KCdhX0NoZWNrLGFfQWNjQ2hlY2ssYV9NeUNoZWNrJykpIHsKICAgICAgICAgICAgJGFyY3JhbmsgPSAtMTsKICAgICAgICB9CiAgICAgICAgJGFkbWluaWQgPSAxOwoKICAgICAgICAkbGl0cGljID0gR2V0RERJbWFnZSgnbm9uZScsICRwaWNuYW1lLCAkZGRpc3JlbW90ZSk7CgogICAgICAgIC8v55Sf5oiQ5paH5qGjSUQKICAgICAgICAkYXJjSUQgPSBHZXRJbmRleEtleSgkYXJjcmFuaywgJHR5cGVpZCwgJHNvcnRyYW5rLCAkY2hhbm5lbGlkLCAkc2VuZGRhdGUsICRhZG1pbmlkKTsKCiAgICAgICAgaWYgKGVtcHR5KCRhcmNJRCkpIHsKICAgICAgICAgICR0aGlzLT5yZXMoLTEsICLlj5HluIPmlofnq6DlpLHotKXvvIzml6Dms5XnlJ/miJDmlofnq6BJRCIpOwogICAgICAgIH0KICAgICAgICAkYXV0b2tleSA9IDE7CgogICAgICAgICRib2R5ID0gJHRoaXMtPmFuYWx5c2VIdG1sQm9keSgkYm9keSwgJGRlc2NyaXB0aW9uLCAkbGl0cGljLCAka2V5d29yZHMsICdodG1sdGV4dCcpOwoKICAgICAgICAkaW5hZGRfZiA9ICRpbmFkZF92ID0gJyc7CgogICAgICAgIC8v5aSE55CG5Zu+54mH5paH5qGj55qE6Ieq5a6a5LmJ5bGe5oCnCiAgICAgICAgaWYgKCRsaXRwaWMgIT0gJycgJiYgIXByZWdfbWF0Y2goIiNwIyIsICRmbGFnKSkgewogICAgICAgICAgICAkZmxhZyA9ICgkZmxhZyA9PSAnJyA/ICdwJyA6ICRmbGFnIC4gJyxwJyk7CiAgICAgICAgfQogICAgICAgIGlmICgkcmVkaXJlY3R1cmwgIT0gJycgJiYgIXByZWdfbWF0Y2goIiNqIyIsICRmbGFnKSkgewogICAgICAgICAgICAkZmxhZyA9ICgkZmxhZyA9PSAnJyA/ICdqJyA6ICRmbGFnIC4gJyxqJyk7CiAgICAgICAgfQoKICAgICAgICAvL+i3s+i9rOe9keWdgOeahOaWh+aho+W8uuWItuS4uuWKqOaAgQogICAgICAgIGlmIChwcmVnX21hdGNoKCIjaiMiLCAkZmxhZykpIHsKICAgICAgICAgICAgJGlzbWFrZSA9IC0xOwogICAgICAgIH0KCiAgICAgICAgLy/liqDlhaXkuLvmoaPmoYjooagKICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElOVE8gYCNAX19hcmNoaXZlc2AoYGlkYCxgdHlwZWlkYCxgdHlwZWlkMmAsYHNvcnRyYW5rYCxgZmxhZ2AsYGlzbWFrZWAsYGNoYW5uZWxgLGBhcmNyYW5rYCxgY2xpY2tgLGBtb25leWAsYHRpdGxlYCxgc2hvcnR0aXRsZWAsCiAgICAgICAgYGNvbG9yYCxgd3JpdGVyYCxgc291cmNlYCxgbGl0cGljYCxgcHViZGF0ZWAsYHNlbmRkYXRlYCxgbWlkYCxgdm90ZWlkYCxgbm90cG9zdGAsYGRlc2NyaXB0aW9uYCxga2V5d29yZHNgLGBmaWxlbmFtZWAsYGR1dHlhZG1pbmAsYHdlaWdodGApCiAgICAgICAgVkFMVUVTICgnJGFyY0lEJywnJHR5cGVpZCcsJyR0eXBlaWQyJywnJHNvcnRyYW5rJywnJGZsYWcnLCckaXNtYWtlJywnJGNoYW5uZWxpZCcsJyRhcmNyYW5rJywnJGNsaWNrJywnJG1vbmV5JywKICAgICAgICAnJHRpdGxlJywnJHNob3J0dGl0bGUnLCckY29sb3InLCckd3JpdGVycycsJyRzb3VyY2UnLCckbGl0cGljJywnJHB1YmRhdGUnLCckc2VuZGRhdGUnLAogICAgICAgICckYWRtaW5pZCcsJyR2b3RlaWQnLCckbm90cG9zdCcsJyRkZXNjcmlwdGlvbicsJyRrZXl3b3JkcycsJyRmaWxlbmFtZScsJyRhZG1pbmlkJywnJHdlaWdodCcpOyI7CgogICAgICAgIGlmICghJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJHF1ZXJ5KSkgewogICAgICAgICAgICAkZ2VyciA9ICRkc3FsLT5HZXRFcnJvcigpOwogICAgICAgICAgICAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgiREVMRVRFIEZST00gYCNAX19hcmN0aW55YCBXSEVSRSBpZD0nJGFyY0lEJyIpOwogICAgICAgICAgICAkdGhpcy0+cmVzKC0xLCAi5oqK5pWw5o2u5L+d5a2Y5Yiw5pWw5o2u5bqT5Li76KGo5pe25Ye66ZSZIik7CiAgICAgICAgICAgIGV4aXQoKTsKICAgICAgICB9CgogICAgICAgIC8v5Yqg5YWl6ZmE5Yqg6KGoCiAgICAgICAgJGN0cyAgICAgID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUIGFkZHRhYmxlIEZST00gYCNAX19jaGFubmVsdHlwZWAgV0hFUkUgaWQ9JyRjaGFubmVsaWQnICIpOwogICAgICAgICRhZGR0YWJsZSA9IHRyaW0oJGN0c1snYWRkdGFibGUnXSk7CiAgICAgICAgaWYgKGVtcHR5KCRhZGR0YWJsZSkpIHsKICAgICAgICAgICAgJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoIkRFTEVURSBGUk9NIGAjQF9fYXJjaGl2ZXNgIFdIRVJFIGlkPSckYXJjSUQnIik7CiAgICAgICAgICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCJERUxFVEUgRlJPTSBgI0BfX2FyY3RpbnlgIFdIRVJFIGlkPSckYXJjSUQnIik7CiAgICAgICAgICAgICR0aGlzLT5yZXMoLTEsICLmsqHmib7liLDlvZPliY3mqKHlnotbeyRjaGFubmVsaWR9XeeahOS4u+ihqOS/oeaBr++8jOaXoOazleWujOaIkOaTjeS9nO+8gSIpOwogICAgICAgIH0KICAgICAgICAkdXNlaXAgICA9IEdldElQKCk7CiAgICAgICAgJHRlbXBsZXQgPSBlbXB0eSgkdGVtcGxldCkgPyAnJyA6ICR0ZW1wbGV0OwogICAgICAgIC8vIOacieWPr+iDveihqOS4jeWQjOatpQogICAgICAgICRleGlzdHMgPSAkZHNxbC0+R2V0T25lKCJTRUxFQ1QgYWlkIEZST00gYHskYWRkdGFibGV9YCBXSEVSRSBhaWQ9JyRhcmNJRCcgIik7CiAgICAgICAgaWYgKCRleGlzdHMgIT0gJycpIHsKICAgICAgICAgICRxdWVyeSAgID0gIlVQREFURSBgeyRhZGR0YWJsZX1gIFNFVCBib2R5ID0gJyRib2R5JyBXSEVSRSBhaWQgPSAnJGFyY0lEJyI7CiAgICAgICAgICBpZiAoISRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRxdWVyeSkpIHsKICAgICAgICAgICAgICAkZ2VyciA9ICRkc3FsLT5HZXRFcnJvcigpOwogICAgICAgICAgICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCJEZWxldGUgRnJvbSBgI0BfX2FyY2hpdmVzYCB3aGVyZSBpZD0nJGFyY0lEJyIpOwogICAgICAgICAgICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCJEZWxldGUgRnJvbSBgI0BfX2FyY3RpbnlgIHdoZXJlIGlkPSckYXJjSUQnIik7CiAgICAgICAgICAgICAgJHRoaXMtPnJlcygtMSwgIuaKiuaVsOaNruS/neWtmOWIsOaVsOaNruW6k+mZhOWKoOihqCBgeyRhZGR0YWJsZX1gIOaXtuWHuumUmSIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkcXVlcnkgICA9ICJJTlNFUlQgSU5UTyBgeyRhZGR0YWJsZX1gKGFpZCx0eXBlaWQscmVkaXJlY3R1cmwsdGVtcGxldCx1c2VyaXAsYm9keXskaW5hZGRfZn0pIFZhbHVlcygnJGFyY0lEJywnJHR5cGVpZCcsJyRyZWRpcmVjdHVybCcsJyR0ZW1wbGV0JywnJHVzZWlwJywnJGJvZHkneyRpbmFkZF92fSkiOwogICAgICAgICAgaWYgKCEkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkcXVlcnkpKSB7CiAgICAgICAgICAgICAgJGdlcnIgPSAkZHNxbC0+R2V0RXJyb3IoKTsKICAgICAgICAgICAgICAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgiRGVsZXRlIEZyb20gYCNAX19hcmNoaXZlc2Agd2hlcmUgaWQ9JyRhcmNJRCciKTsKICAgICAgICAgICAgICAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgiRGVsZXRlIEZyb20gYCNAX19hcmN0aW55YCB3aGVyZSBpZD0nJGFyY0lEJyIpOwogICAgICAgICAgICAgICR0aGlzLT5yZXMoLTEsICLmiormlbDmja7kv53lrZjliLDmlbDmja7lupPpmYTliqDooaggYHskYWRkdGFibGV9YCDml7blh7rplJkiKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRhcnRVcmwgPSBNYWtlQXJ0KCRhcmNJRCwgdHJ1ZSwgdHJ1ZSwgJGlzcmVtb3RlKTsKICAgICAgICBpZiAoJGFydFVybCA9PSAnJykgewogICAgICAgICAgICAkYXJ0VXJsID0gJGNmZ19waHB1cmwgLiAiL3ZpZXcucGhwP2FpZD0kYXJjSUQiOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoc3RycG9zKCRhcnRVcmwsICJodHRwIikgIT09IDApIHsKICAgICAgICAgICRhcnRVcmwgPSAkY2ZnX2Jhc2Vob3N0IC4gJGFydFVybDsKICAgICAgICB9CiAgICAgICAgQ2xlYXJNeUFkZG9uKCRhcmNJRCwgJHRpdGxlKTsKICAgICAgICAkdGhpcy0+dXBkYXRlSW5kZXhQYWdlKCk7CgogICAgICAgICR0aGlzLT5yZXMoMSwgIuWPkeW4g+aIkOWKnyIsIGFycmF5KAogICAgICAgICAgJ3VybCcgPT4gJGFydFVybCwKICAgICAgICApKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnKCkKICAgIHsKICAgICAgICBpZiAoZW1wdHkoJHRoaXMtPmNvbmZpZykpIHsKICAgICAgICAgIGdsb2JhbCAkZHNxbDsKICAgICAgICAgICRjb25maWcgPSAkZHNxbC0+R2V0T25lKCJTRUxFQ1QgYHZhbHVlYCBGUk9NIGAjQF9fc3lzY29uZmlnYCB3aGVyZSBgdmFybmFtZWAgPSAnZ3VhbmppYV9zZXR0aW5nJyIpOwogICAgICAgICAgJHRoaXMtPmNvbmZpZyA9IGpzb25fZGVjb2RlKCRjb25maWdbJ3ZhbHVlJ10sIHRydWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJHRoaXMtPmNvbmZpZzsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gdmVyaWZ5U2lnbigpCiAgICB7CiAgICAgIGlmICghaXNzZXQoJF9HRVRbJ3NpZ24nXSkpIHsKICAgICAgICAkdGhpcy0+cmVzKC0xLCAn5pyq5o6I5p2D5pON5L2cJyk7CiAgICAgIH0KCiAgICAgICRzaWduICAgICAgPSAkX0dFVFsnc2lnbiddOwogICAgICAkY2hlY2tUaW1lICA9ICRfR0VUWydfdCddOwoKICAgICAgJGNvbmZpZyAgICA9ICR0aGlzLT5nZXRDb25maWcoKTsKICAgICAgJHNpZ25hdHVyZSA9ICR0aGlzLT5zaWduYXR1cmUoJGNvbmZpZ1sndG9rZW4nXSwgJGNoZWNrVGltZSk7CiAgICAgIGlmICgkc2lnbiAhPSAkc2lnbmF0dXJlKSB7CiAgICAgICAgICAkdGhpcy0+cmVzKC0xLCAn562+5ZCN5LiN5q2j56GuJyk7CiAgICAgIH0KICAgICAgcmV0dXJuICR0aGlzOwogICAgfQogICAgCiAgICBwcml2YXRlIGZ1bmN0aW9uIHNpZ25hdHVyZSgkdG9rZW4sICRfdCkKICAgIHsKICAgICAgICAkc2lnbmF0dXJlID0gbWQ1KCR0b2tlbiAuICRfdCk7CiAgICAgICAgcmV0dXJuICRzaWduYXR1cmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBqc29u6L6T5Ye6CiAgICAgKiBAcGFyYW0gICAgICAkY29kZQogICAgICogQHBhcmFtIG51bGwgJG1zZwogICAgICogQHBhcmFtIG51bGwgJGRhdGEKICAgICAqIEBwYXJhbSBudWxsICRleHRyYQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gcmVzKCRjb2RlLCAkbXNnID0gbnVsbCwgJGRhdGEgPSBudWxsLCAkZXh0cmEgPSBudWxsKQogICAgewogICAgICAgIEBoZWFkZXIoJ0NvbnRlbnQtVHlwZTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTsKICAgICAgICBpZihpc19hcnJheSgkbXNnKSl7CiAgICAgICAgICAgICRtc2cgPSBpbXBsb2RlKCIsIiwgJG1zZyk7CiAgICAgICAgfQogICAgICAgICRvdXRwdXQgPSBhcnJheSgKICAgICAgICAgICAgJ2NvZGUnID0+ICRjb2RlLAogICAgICAgICAgICAnbXNnJyAgPT4gJG1zZywKICAgICAgICAgICAgJ2RhdGEnID0+ICRkYXRhCiAgICAgICAgKTsKICAgICAgICBpZiAoaXNfYXJyYXkoJGV4dHJhKSkgewogICAgICAgICAgICBmb3JlYWNoICgkZXh0cmEgYXMgJGtleSA9PiAkdmFsKSB7CiAgICAgICAgICAgICAgICAkb3V0cHV0WyRrZXldID0gJHZhbDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRvdXRwdXQpOwogICAgICAgIGRpZTsKICAgIH0KCiAgICAvKioKICAgICAqIOWkhOeQhkhUTUzmlofmnKwKICAgICAqIOWIoOmZpOmdnuermeWklumTvuaOpeOAgeiHquWKqOaRmOimgeOAgeiHquWKqOiOt+WPlue8qeeVpeWbvgogICAgICoKICAgICAqIEBhY2Nlc3MgICAgcHVibGljCiAgICAgKiBAcGFyYW0gICAgIHN0cmluZyAgJGJvZHkgIOWGheWuuQogICAgICogQHBhcmFtICAgICBzdHJpbmcgICRkZXNjcmlwdGlvbiAg5o+P6L+wCiAgICAgKiBAcGFyYW0gICAgIHN0cmluZyAgJGxpdHBpYyAg57yp55Wl5Zu+CiAgICAgKiBAcGFyYW0gICAgIHN0cmluZyAgJGtleXdvcmRzICDlhbPplK7or40KICAgICAqIEBwYXJhbSAgICAgc3RyaW5nICAkZHR5cGUgIOexu+WeiwogICAgICogQHJldHVybiAgICBzdHJpbmcKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGFuYWx5c2VIdG1sQm9keSgkYm9keSwgJiRkZXNjcmlwdGlvbiwgJiRsaXRwaWMsICYka2V5d29yZHMsICRkdHlwZSA9ICcnKQogICAgewogICAgICAgIGdsb2JhbCAkYXV0b2xpdHBpYywgJHJlbW90ZSwgJGRlbGxpbmssICRhdXRva2V5LCAkY2ZnX2Jhc2Vob3N0LCAkY2ZnX2F1b3RfZGVzY3JpcHRpb24sICRpZCwgJHRpdGxlLCAkY2ZnX3NvZnRfbGFuZzsKICAgICAgICAkYXV0b2xpdHBpYyA9IChlbXB0eSgkYXV0b2xpdHBpYykgPyAnJyA6ICRhdXRvbGl0cGljKTsKICAgICAgICAkYm9keSAgICAgICA9IHN0cmlwc2xhc2hlcygkYm9keSk7CiAgICAgICAgJGF1dG9rZXkgICAgPSAxOwoKICAgICAgICAvL+i/nOeoi+WbvueJh+acrOWcsOWMlgogICAgICAgIGlmICgkcmVtb3RlID09IDEpIHsKICAgICAgICAgICAgJGJvZHkgPSBHZXRDdXJDb250ZW50KCRib2R5KTsKICAgICAgICB9CiAgICAgICAgLy/liKDpmaTpnZ7nq5nlhoXpk77mjqUKICAgICAgICBpZiAoJGRlbGxpbmsgPT0gMSkgewogICAgICAgICAgICAkYWxsb3dfdXJscyA9IGFycmF5KCRfU0VSVkVSWydIVFRQX0hPU1QnXSk7CiAgICAgICAgICAgIC8vIOivu+WPluWFgeiuuOeahOi2hemTvuaOpeiuvue9rgogICAgICAgICAgICBpZiAoZmlsZV9leGlzdHMoREVERURBVEEgLiAiL2FkbWluL2FsbG93dXJsLnR4dCIpKSB7CiAgICAgICAgICAgICAgICAkYWxsb3dfdXJscyA9IGFycmF5X21lcmdlKCRhbGxvd191cmxzLCBmaWxlKERFREVEQVRBIC4gIi9hZG1pbi9hbGxvd3VybC50eHQiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGJvZHkgPSBSZXBsYWNlX0xpbmtzKCRib2R5LCAkYWxsb3dfdXJscyk7CiAgICAgICAgfQoKICAgICAgICAvL+iHquWKqOaRmOimgQogICAgICAgIGlmICgkZGVzY3JpcHRpb24gPT0gJycgJiYgJGNmZ19hdW90X2Rlc2NyaXB0aW9uID4gMCkgewogICAgICAgICAgICAkZGVzY3JpcHRpb24gPSBjbl9zdWJzdHIoaHRtbDJ0ZXh0KCRib2R5KSwgJGNmZ19hdW90X2Rlc2NyaXB0aW9uKTsKICAgICAgICAgICAgJGRlc2NyaXB0aW9uID0gdHJpbShwcmVnX3JlcGxhY2UoJy8jcCN8I2UjLycsICcnLCAkZGVzY3JpcHRpb24pKTsKICAgICAgICAgICAgJGRlc2NyaXB0aW9uID0gYWRkc2xhc2hlcygkZGVzY3JpcHRpb24pOwogICAgICAgIH0KCiAgICAgICAgLy/oh6rliqjojrflj5bnvKnnlaXlm74KICAgICAgICBpZiAoJGF1dG9saXRwaWMgPT0gMSAmJiAkbGl0cGljID09ICcnKSB7CiAgICAgICAgICAgICRsaXRwaWMgPSBHZXREREltZ0Zyb21Cb2R5KCRib2R5KTsKICAgICAgICB9CgogICAgICAgIC8v6Ieq5Yqo6I635Y+W5YWz6ZSu5a2XCiAgICAgICAgaWYgKCRhdXRva2V5ID09IDEgJiYgJGtleXdvcmRzID09ICcnKSB7CiAgICAgICAgICAgICRzdWJqZWN0ID0gJHRpdGxlOwogICAgICAgICAgICAkbWVzc2FnZSA9ICRib2R5OwogICAgICAgICAgICBpbmNsdWRlX29uY2UgREVERUlOQyAuICcvc3BsaXR3b3JkLmNsYXNzLnBocCc7CiAgICAgICAgICAgICRrZXl3b3JkcyA9ICcnOwogICAgICAgICAgICAkc3AgICAgICAgPSBuZXcgU3BsaXRXb3JkKCRjZmdfc29mdF9sYW5nLCAkY2ZnX3NvZnRfbGFuZyk7CiAgICAgICAgICAgICRzcC0+U2V0U291cmNlKCRzdWJqZWN0LCAkY2ZnX3NvZnRfbGFuZywgJGNmZ19zb2Z0X2xhbmcpOwogICAgICAgICAgICAkc3AtPlN0YXJ0QW5hbHlzaXMoKTsKICAgICAgICAgICAgJHRpdGxlaW5kZXhzID0gcHJlZ19yZXBsYWNlKCIvI3AjfCNlIy8iLCAnJywgJHNwLT5HZXRGaW5hbGx5SW5kZXgoKSk7CiAgICAgICAgICAgICRzcC0+U2V0U291cmNlKEh0bWwyVGV4dCgkbWVzc2FnZSksICRjZmdfc29mdF9sYW5nLCAkY2ZnX3NvZnRfbGFuZyk7CiAgICAgICAgICAgICRzcC0+U3RhcnRBbmFseXNpcygpOwogICAgICAgICAgICAkYWxsaW5kZXhzID0gcHJlZ19yZXBsYWNlKCIvI3AjfCNlIy8iLCAnJywgJHNwLT5HZXRGaW5hbGx5SW5kZXgoKSk7CgogICAgICAgICAgICBpZiAoaXNfYXJyYXkoJGFsbGluZGV4cykgJiYgaXNfYXJyYXkoJHRpdGxlaW5kZXhzKSkgewogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHRpdGxlaW5kZXhzIGFzICRrID0+ICR2KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmxlbigka2V5d29yZHMgLiAkaykgPj0gNjApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmxlbigkaykgPD0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRrZXl3b3JkcyAuPSAkayAuICcsJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3JlYWNoICgkYWxsaW5kZXhzIGFzICRrID0+ICR2KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmxlbigka2V5d29yZHMgLiAkaykgPj0gNjApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaW5fYXJyYXkoJGssICR0aXRsZWluZGV4cykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmxlbigkaykgPD0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRrZXl3b3JkcyAuPSAkayAuICcsJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHNwID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgJGJvZHkgPSBHZXRGaWVsZFZhbHVlQSgkYm9keSwgJGR0eXBlLCAkaWQpOwogICAgICAgICRib2R5ID0gYWRkc2xhc2hlcygkYm9keSk7CiAgICAgICAgcmV0dXJuICRib2R5OwogICAgfQoKICAgIC8vIOeUn+aIkOmdmeaAgemhtSAtIOmmlumhtQogICAgcHJpdmF0ZSBmdW5jdGlvbiB1cGRhdGVJbmRleFBhZ2UoKQogICAgewogICAgICAgIGdsb2JhbCAkZHNxbDsKICAgICAgICByZXF1aXJlX29uY2UgREVERUlOQyAuICIvYXJjLnBhcnR2aWV3LmNsYXNzLnBocCI7CiAgICAgICAgJHJvdyA9ICRkc3FsLT5HZXRPbmUoIlNFTEVDVCAqIEZST00gI0BfX2hvbWVwYWdlc2V0Iik7CiAgICAgICAgaWYgKCRyb3dbJ3Nob3dtb2QnXSA9PSAxKSB7CiAgICAgICAgICAgICRyZW1vdGVwb3MgPSBlbXB0eSgkcmVtb3RlcG9zKSA/ICcvaW5kZXguaHRtbCcgOiAkcmVtb3RlcG9zOwogICAgICAgICAgICAkaXNyZW1vdGUgID0gZW1wdHkoJGlzcmVtb3RlKSA/IDAgOiAkaXNyZW1vdGU7CiAgICAgICAgICAgICRzZXJ2aXRlcm0gPSBlbXB0eSgkc2Vydml0ZXJtKSA/ICIiIDogJHNlcnZpdGVybTsKCiAgICAgICAgICAgICRob21lRmlsZSA9IERFREVBRE1JTiAuICIvIiAuICRyb3dbJ3Bvc2l0aW9uJ107CiAgICAgICAgICAgICRob21lRmlsZSA9IHN0cl9yZXBsYWNlKCJcXCIsICIvIiwgJGhvbWVGaWxlKTsKICAgICAgICAgICAgJGhvbWVGaWxlID0gc3RyX3JlcGxhY2UoIi8vIiwgIi8iLCAkaG9tZUZpbGUpOwoKICAgICAgICAgICAgJGZwID0gZm9wZW4oJGhvbWVGaWxlLCAidyIpOwogICAgICAgICAgICBmY2xvc2UoJGZwKTsKICAgICAgICAgICAgJHRlbXBsZXQgICAgICAgICAgICAgICAgPSBzdHJfcmVwbGFjZSgie3N0eWxlfSIsICRjZmdfZGZfc3R5bGUsICRyb3dbJ3RlbXBsZXQnXSk7CiAgICAgICAgICAgICRHTE9CQUxTWydfYXJjbGlzdEVudiddID0gJ2luZGV4JzsKCiAgICAgICAgICAgICRwdiA9IG5ldyBQYXJ0VmlldygpOwogICAgICAgICAgICAkcHYtPlNldFRlbXBsZXQoJGNmZ19iYXNlZGlyIC4gJGNmZ190ZW1wbGV0c19kaXIgLiAiLyIgLiAkdGVtcGxldCk7CiAgICAgICAgICAgICRwdi0+U2F2ZVRvSHRtbCgkaG9tZUZpbGUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiByZW1vdmVVdGY4bWI0KCRpbnB1dCkKICAgIHsKICAgICAgICAkZXh0ZW5zaW9ucyA9IGdldF9sb2FkZWRfZXh0ZW5zaW9ucygpOwogICAgICAgICRvdXRwdXQgICAgID0gJyc7CiAgICAgICAgaWYgKGluX2FycmF5KCdtYnN0cmluZycsICRleHRlbnNpb25zKSkgewogICAgICAgICAgICAkbGVuZ3RoID0gbWJfc3RybGVuKCRpbnB1dCwgJ3V0Zi04Jyk7CiAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICRsZW5ndGg7ICRpKyspIHsKICAgICAgICAgICAgICAgICRjaGFyID0gbWJfc3Vic3RyKCRpbnB1dCwgJGksIDEsICd1dGYtOCcpOwoKICAgICAgICAgICAgICAgIGlmIChzdHJsZW4oJGNoYXIpIDwgNCkgewogICAgICAgICAgICAgICAgICAgICRvdXRwdXQgLj0gJGNoYXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGluX2FycmF5KCdpY29udicsICRleHRlbnNpb25zKSkgewogICAgICAgICAgICAkbGVuZ3RoID0gaWNvbnZfc3RybGVuKCRpbnB1dCwgJ3V0Zi04Jyk7CiAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICRsZW5ndGg7ICRpKyspIHsKICAgICAgICAgICAgICAgICRjaGFyID0gaWNvbnZfc3Vic3RyKCRpbnB1dCwgJGksIDEsICd1dGYtOCcpOwogICAgICAgICAgICAgICAgaWYgKHN0cmxlbigkY2hhcikgPCA0KSB7CiAgICAgICAgICAgICAgICAgICAgJG91dHB1dCAuPSAkY2hhcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJG91dHB1dDsKICAgIH0KfQoKZnVuY3Rpb24gZ2V0SW5jRGlyKCkgewogICRyb290ID0gZGlybmFtZShfX0RJUl9fKSAuICIvIjsKICAvLyDlsJ3or5XmhJ/nn6UgaW5jbHVkZQogICRjb25maWdGaWxlID0gJHJvb3QgLiAiaW5jbHVkZS9jb21tb24uaW5jLnBocCI7CiAgJGluY2x1ZGVEaXIgPSAnaW5jbHVkZSc7CiAgaWYgKCFmaWxlX2V4aXN0cygkY29uZmlnRmlsZSkpIHsKICAgICRkaXJfaGFuZGxlID0gb3BlbmRpcigkcm9vdCk7CiAgICB3aGlsZSAoKCRmaWxlID0gcmVhZGRpcigkZGlyX2hhbmRsZSkpICE9PSBmYWxzZSkgewogICAgICAgIGlmIChzdWJzdHIoJGZpbGUsIDAsIDEpICE9PSAnLicgYW5kIGlzX2Rpcigkcm9vdCAuICRmaWxlKSkgewogICAgICAgICAgICAkZGlyX2hhbmRsZTIgPSBvcGVuZGlyKCRyb290IC4gJGZpbGUpOwogICAgICAgICAgICB3aGlsZSAoKCRmaWxlMiA9IHJlYWRkaXIoJGRpcl9oYW5kbGUyKSkgIT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBpZiAoJGZpbGUyID09PSAnY29tbW9uLmluYy5waHAnKSB7CiAgICAgICAgICAgICAgICAgICAgJGZpbGVQYXRoID0gJHJvb3QgLiAkZmlsZSAuICcvJyAuICRmaWxlMjsKICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlUGF0aCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnBvcygkY29udGVudCwgJ0RFREVfRU5WSVJPTk1FTlQnKSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbmZpZ0ZpbGUgPSAkZmlsZVBhdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbmNsdWRlRGlyID0gJGZpbGU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIDI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNsb3NlZGlyKCRkaXJfaGFuZGxlMik7CiAgICAgICAgfQogICAgfQogICAgY2xvc2VkaXIoJGRpcl9oYW5kbGUpOwogIH0KICBpZiAoIWZpbGVfZXhpc3RzKCRjb25maWdGaWxlKSkgewogICAgZXhpdCgi5peg5rOV5oSf55+l6YWN572u5paH5Lu2Iik7CiAgfQoKICByZXR1cm4gJHJvb3QgLiAkaW5jbHVkZURpcjsKfQoKZnVuY3Rpb24gcGFyc2VBY3Rpb24oJGEpCnsKICAgICRhID0gbGNmaXJzdChzdHJfcmVwbGFjZSgiICIsICIiLCB1Y3dvcmRzKHN0cl9yZXBsYWNlKGFycmF5KCIvIiwgIl8iKSwgIiAiLCAkYSkpKSk7CiAgICByZXR1cm4gJGE7Cn0=
</file>
</modulefiles>
</module>
